{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/patterns/","result":{"data":{"markdownRemark":{"html":"<h3>Strategy</h3>\n<p>When a class behavior is supposed to change, e.g at runtime, we have the following suboptimal solutions:</p>\n<ul>\n<li>add it as virtual method in the base class</li>\n<li>implement a different method in each class</li>\n</ul>\n<h2>Example</h2>\n<p>a <code class=\"language-text\">Fighter</code> class has a <code class=\"language-text\">display</code>, <code class=\"language-text\">walk</code> and <code class=\"language-text\">punch</code> methods, but only some characters support a <code class=\"language-text\">kick</code> method and they can vary. We create a <code class=\"language-text\">KickInterface</code> in the base class and different concrete implementations of this behavior. Each concrete fighter will set a specific behavior. </p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">//  Encapsulation of Kick behavior</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">KickStrategy</span><span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n  <span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">kick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PowerKick</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">KickStrategy</span></span><span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">kick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> override <span class=\"token punctuation\">{</span> std<span class=\"token operator\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Power kick\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span>endl<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TornadoKick</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">KickStrategy</span></span><span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">kick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> override <span class=\"token punctuation\">{</span> std<span class=\"token operator\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Tornado kick\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span>endl<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Fighter base class</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Fighter</span><span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">display</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> std<span class=\"token operator\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Display\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span>endl<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">walk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> std<span class=\"token operator\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Walk\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span>endl<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ....</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">kick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> kick_strategy_<span class=\"token operator\">-></span><span class=\"token function\">kick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n  KickStrategy<span class=\"token operator\">*</span> kick_strategy_<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Power kicker</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rik</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Fighter</span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">Rik</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    kick_strategy_ <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">PowerKick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Tornado kicker</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Kaju</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Fighter</span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">Kaju</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    kick_strategy_ <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">PowerKick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Observer</h3>\n<p>When you need many other objects to receive an update when another object changes:</p>\n<ul>\n<li>The subject (Publisher) does need to know anything about the observer</li>\n<li>The publisher register an observer through its interface (no need to know its internals)</li>\n</ul>","frontmatter":{"title":"Patterns","description":"Array","image":{"childImageSharp":{"resize":{"src":"/static/2040f941ac076543628d6e8f9323324a/c7a62/072e66275316ea3710805ec97d0978494a5eeb66.jpg","height":630,"width":1200}}}}}},"pageContext":{"slug":"/patterns/","previousPost":{"title":"Shortest Path","slug":"/shortest-path/"},"nextPost":{"title":"Linked Lists","slug":"/linked-lists/"}}},"staticQueryHashes":["3868140423","4085307986"]}